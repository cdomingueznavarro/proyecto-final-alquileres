<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="var" type="java.lang.Object" required="true" />
        <cc:attribute name="bean" type="java.lang.Object" required="true"  />    
        <cc:attribute name="method" type="java.lang.String" required="true" />
        <cc:attribute name="property" type="java.lang.String" required="true" />
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <div class="item">
            
                <h:panelGrid columns="2" style="border: none; padding-left: 5px"
                             cellspacing="0" cellpadding="0" 
                             columnClasses="itemImgCol,itemContentCol" > 
                    <h:graphicImage value="/image?id=#{cc.attrs.var.imagenId}" 
                                    width="90" height="90" 
                                    rendered="#{cc.attrs.var.imagenId != -1}" />
                    <h:graphicImage value="#{resource['images:noImage.png']}"
                                    width="90" height="90"
                                    rendered="#{cc.attrs.var.imagenId == -1}" />
                    <h:panelGrid style="text-align: left; padding: 1px 1px 1px 10px" columns="1"  >
                        <p:commandLink value="#{cc.attrs.var.titulo}" ajax="false"
                                       action="#{cc.attrs.bean[cc.attrs.method]}" 
                                       styleClass="itemTitle" >
                            <f:setPropertyActionListener value="#{cc.attrs.var.id}" target="#{cc.attrs.bean[cc.attrs.property]}" />
                        </p:commandLink>  
                        <h:outputText value="#{cc.attrs.var.descripcion}" styleClass="itemInfo" escape="false"/>  
                        <h:outputText value="Cantidad disponible: #{cc.attrs.var.cantidad}" styleClass="itemInfo"/>  
                    </h:panelGrid>
                </h:panelGrid>  
        </div>
    </cc:implementation>
</html>